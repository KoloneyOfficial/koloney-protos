syntax = "proto3";

package application;

import "google/protobuf/timestamp.proto";

option go_package = "application;application";

// Application represents a job application
message Application {
  string id = 1;
  string job_id = 2;
  string candidate_id = 3;
  string company_id = 4;
  ApplicationStatus status = 5;
  ApplicationStage stage = 6;
  ApplicationDocuments documents = 7;
  ApplicationNotes notes = 8;
  ApplicationTimeline timeline = 9;
  google.protobuf.Timestamp created_at = 10;
  google.protobuf.Timestamp updated_at = 11;
}

// ApplicationStatus represents the overall status
enum ApplicationStatus {
  APPLICATION_STATUS_UNSPECIFIED = 0;
  APPLICATION_STATUS_DRAFT = 1;
  APPLICATION_STATUS_SUBMITTED = 2;
  APPLICATION_STATUS_UNDER_REVIEW = 3;
  APPLICATION_STATUS_INTERVIEWING = 4;
  APPLICATION_STATUS_OFFER_EXTENDED = 5;
  APPLICATION_STATUS_ACCEPTED = 6;
  APPLICATION_STATUS_REJECTED = 7;
  APPLICATION_STATUS_WITHDRAWN = 8;
}

// ApplicationStage represents the current stage
enum ApplicationStage {
  APPLICATION_STAGE_UNSPECIFIED = 0;
  APPLICATION_STAGE_APPLICATION_SUBMITTED = 1;
  APPLICATION_STAGE_SCREENING = 2;
  APPLICATION_STAGE_PHONE_INTERVIEW = 3;
  APPLICATION_STAGE_TECHNICAL_INTERVIEW = 4;
  APPLICATION_STAGE_ON_SITE_INTERVIEW = 5;
  APPLICATION_STAGE_REFERENCE_CHECK = 6;
  APPLICATION_STAGE_OFFER = 7;
  APPLICATION_STAGE_NEGOTIATION = 8;
  APPLICATION_STAGE_HIRED = 9;
}

// ApplicationDocuments represents attached files
message ApplicationDocuments {
  string resume_id = 1;
  string cover_letter_id = 2;
  repeated string additional_documents = 3;
  repeated string portfolio_links = 4;
}

// ApplicationNotes represents internal notes
message ApplicationNotes {
  repeated string recruiter_notes = 1;
  repeated string hiring_manager_notes = 2;
  repeated string candidate_notes = 3;
}

// ApplicationTimeline represents key dates
message ApplicationTimeline {
  google.protobuf.Timestamp submitted_at = 1;
  google.protobuf.Timestamp first_review_at = 2;
  google.protobuf.Timestamp last_contact_at = 3;
  google.protobuf.Timestamp estimated_decision_date = 4;
}
